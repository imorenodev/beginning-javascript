<!DOCTYPE HTML>
<html>
<head>
	<title>Chapter Five: Example Eight</title>
</head>
<body>

	<h2>Summary of Bookings</h2>

	<script>

	//Customer Type
	function CustomerBooking (bookingId, customerName, film, showDate) {
		this.bookingId = bookingId;
		this.customerName = customerName;
		this.film = film;
		this.showDate = showDate;
	}

	CustomerBooking.prototype.getCustomerName = function() {
		return this.customerName;
	}

	CustomerBooking.prototype.setCustomerName = function(customerName) {
		this.customerName = customerName;
	}

	CustomerBooking.prototype.getShowDate = function() {
		return this.showDate;
	}

	CustomerBooking.prototype.setShowDate = function(showDate) {
		this.showDate = showDate;
	}

	CustomerBooking.prototype.getFilm = function() {
		return this.film;
	}

	CustomerBooking.prototype.setFilm = function(film) {
		this.film = film;
	}

	CustomerBooking.prototype.getBookingId = function() {
		return this.bookingId;
	}

	CustomerBooking.prototype.setBookingId = function(bookingId) {
		this.bookingId = bookingId;
	}

	var customerIan = new CustomerBooking(null, "Ian", null, null);


	//Cinema Type
	function Cinema() {
		this.bookings = [];
	}

	Cinema.prototype.addBooking = function(bookingId, customerName, film, showDate) {
		this.bookings[bookingId] = new CustomerBooking(bookingId, customerName, film, showDate);
	}

	Cinema.prototype.getBookingsTable = function() {
		var booking;
		var bookingsTableHTML = "<table border=1>";

		bookingsTableHTML += "<tr><th>ID</th><th>Customer Name</th><th>Film Title</th><th>Date & Time</th></tr>";

		for (booking in this.bookings) {
			bookingsTableHTML += "<tr><td>";
			bookingsTableHTML += this.bookings[booking].getBookingId();
			bookingsTableHTML += "</td>";

			bookingsTableHTML += "<td>";
			bookingsTableHTML += this.bookings[booking].getCustomerName();
			bookingsTableHTML += "</td>";	

			bookingsTableHTML += "<td>";
			bookingsTableHTML += this.bookings[booking].getFilm();
			bookingsTableHTML += "</td>";					

			bookingsTableHTML += "<td>";
			bookingsTableHTML += this.bookings[booking].getShowDate();
			bookingsTableHTML += "</td>";
			bookingsTableHTML += "</tr>";		
		}

		bookingsTableHTML += "</table>";
		return bookingsTableHTML;
	}

	var regalCinemas = new Cinema();
	regalCinemas.addBooking(342, "Arnold Palmer", "Toy Story", "15 July 2015 20:15");
	regalCinemas.addBooking(343, "Louise Anderson", "The Shawshank Redemption", "27 July 2015 11:25");
	regalCinemas.addBooking(344, "Chaterine Hughes", "Never Say Never", "27 July 2015 10:09");
	regalCinemas.addBooking(245, "Ian Moreno", "Get Low", "01 August 2015 11:45");

	document.write(regalCinemas.getBookingsTable());

	</script>
</body>
</html>